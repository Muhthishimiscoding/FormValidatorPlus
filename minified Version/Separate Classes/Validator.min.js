/**
 * @name Validator
 * @author Muhthishim Malik
 * https://github.com/Muhthishimiscoding/FormValidatorPlus
 */
var Validator=class e{static selectElem(e,t=HTMLFormElement){let r=null;if(e instanceof t?r=e:"string"==typeof e&&(r=document.querySelector(e)),!(r instanceof t))throw TypeError(`No element in dom exists with this ${e} selector.`);return r}static errorMessages={alpha:"This field needs to contain only alphabatic characters i.e A to z.",alpha_s:"This field can only have only alphabatic characters i.e A to z and space",alphaNumeric:"This field can only contain alphanumeric characters.",alphaNumeric_s:"Thie fields can only contain alphanumeric characters and space.",date:"Please enter a valid date in the format YYYY-MM-DD.",dateAll:"Please enter a valid date",dateTime:"Please enter a valid date and time in the format YYYY-MM-DD HH:MM:SS.",required:"This field is required.",email:"Please provide a valid email address.",min:"The field should contain a minimum of {min} characters.",max:"The field should contain a maximum of {max} characters.",noSpecial:"This field should not contain any special characters like $, #, &, @, or >.",space:"This field must contain at least one space.",noSpace:"This field should not contain any spaces.",lowerCase:"This field should contain lowercase letters.",upperCase:"This field should contain uppercase letters.",numb:"This field should contain only digits.",maxnumb:"This field should not exceed {max} digits.",minnumb:"This field should contain at least {min} digits.",makeInvalidEmpty:"Please make this field empty.",tillDate:"The date of this field should be selected before {tillDate}.",shouldOld:"Age Requirement: You must be at least {shouldOld} years old to access this feature/content.",fileSize:"The maximum allowed file size is {fileSize} and your file size is {fileSize2}.",fileType:"The allowed file types are {fileType}",image:"The uploaded file is not a valid image. Allowed image types are {image}.",fileExt:"The file is not of valid type allowed file types are {fileExt}.",dimension_equal:"The uploaded image has a width of {givenWidth}px and height of {givenHeight}px, while the required dimensions are {expectedWidth}x{expectedHeight} pixels.",dimension_smallest:"The smallest accepted width and height are {expectedWidth}x{expectedHeight} pixels, but your image is smaller than that, {givenWidth}x{givenHeight}.",dimension_highest:"The largest accepted width and height are {expectedWidth}x{expectedHeight} pixels, but your image is larger than that, {givenWidth}x{givenHeight}.",dimension_width:"The expected width for this image is {width}px.",dimension_height:"The expected height for this image is {height}px.",dimension_square:"This image needs to be a square, meaning it should have the same height and width, like 500x500 pixels.",dimension_square_size:"This image needs to be square with a width and height of {expectedWidth}x{expectedHeight} pixels.",dimension_aspectRatio:"The image must have an aspect ratio of {aspectRatio}.",detectMultipleSpaces:"This field has multiple consecutive spaces.",accept:"Please check this checkbox.",range:"The entered number must be between {num1} to {num2}.",numb:"This field needs to be a valid number without any space",numb_space:"This field needs to be a valid number.",numb_space_double:"This field contains more spaces then it should.",password:"This field needs to contain small case, uppercase, special characters i.e $,#,% etc and digits characters and has a length of atleast {password} characters.",hasLowerCase:"The field needs to have a lower case character.",hasUpperCase:"The field needs to have a upper case character.",hasSpecial:"The field needs to have a special character like $, #, @, & etc.",hasDigit:"The field needs to have a numeric digit [0-9].",same:"This field must match with the {same}.",inList:"The field must be of any of these {inList}.",url:"Please enter a valid HTTP or HTTPS URL.",url_ftp:"Please enter a valid HTTP or HTTPS or FTP URL.",zipCode:"Please enter a valid ZIP/Postal code.",json:"The provided JSON structure is not valid.",ipv4:"Please enter a valid IPv4 address.",ipv6:"Please enter a valid IPv6 address.",isbn:"Please enter a valid ISBN (ISBN-10 or ISBN-13).",upca:"Please enter a valid UPC-A (Universal Product Code).",ean13:"Please enter a valid EAN-13 (European Article Number)."};static REG_SPECIAL=/[^\p{L}0-9\s.]/u;static defaultMsg="An unknown error occured";static imgMimeTypes=["image/jpeg","image/jpg","image/png","image/gif","image/bmp","image/webp"];constructor(e,t={},r=null){this.customMessages=t,this.rules=e,this.data=r,this.errors={},this.conerrors={}}regConErrors(e,t){return this.conerrors?.[e]?.[t]==void 0&&(this.conerrors?.[e]==void 0&&(this.conerrors[e]={}),this.conerrors[e][t]=new Map),{inp:e,ruleName:t}}static setRegexSpecial(t){e.REG_SPECIAL=t}setRules(e){return this.rules=e,this}setErrorMessages(e){return this.customMessages?this.customMessages={...this.customMessages,...e}:this.customMessages=e,this}static setImgMimeTypes(t){e.imgMimeTypes=t}static get RULE_REQUIRED(){return"required"}static getUtcDate(e=null){e||(e=new Date);let t=Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds());return new Date(t)}static getDate(t){let r;return"number"==typeof t?((r=e.getUtcDate()).setUTCFullYear(r.getUTCFullYear()-t),r.setUTCHours(0,0,0,0)):"string"==typeof t?(r=new Date(t),r=e.getUtcDate(r)):r=t instanceof Date?t:e.getUtcDate(),r}static setMaxdate(t,r=null){let s=e.selectElem(t,HTMLInputElement),i=e.getDate(r);s.max=i.toISOString().split("T")[0]}static setNum(t,r=!1){let s=e.selectElem(t,HTMLElement);s.addEventListener("input",function(){let e=s.value;s.value=e.replace(/\D/g,""),r&&e>r&&(s.value=e.slice(0,e.length-1))})}static setPhone(t,r=!1,s=10,i=[2,5]){let a=e.selectElem(t,HTMLElement);a.addEventListener("input",function(e){let t="",n="",l=!1;r?(s=10===s?13:s,(t=a.value.replaceAll(/[^0-9+]/g,"")).includes("+")||(n="+",l=!0)):t=a.value.replace(/\D/g,"");for(let o=0;o<Math.min(t.length,s);o++)(!(r&&n.includes("+"))||"+"!=t[o])&&(n+=t[o],i.includes(o)&&(n+=" "));l||"+"!==n||(n=""),a.value=n.trimEnd()})}formatDateTimeWithAMPM(e){let t=e.getUTCHours(),r=e.getUTCMinutes(),s=t>=12?"pm":"am";t%=12,t=t||12,r=r<10?"0"+r:r;let i=`${e.getUTCDate()} ${["January","February","March","April","May","June","July","August","September","October","November","December"][e.getUTCMonth()]},${e.getUTCFullYear()} till ${t}:${r} ${s}`;return i}static liveVerify(t){let r=t?.rules||t,s=new e(r,t?.errorMsgs||{}),i=t?.callback||s.showErrors.bind(s),a=t?.conThrottle||500,n=t?.throttle||300;if("function"!=typeof i)throw TypeError("callback paratemer needs to be a function");let l=s.debounce(async function(e,t,r,s){2===await this.runRules(this.getDataFromInp(e),r,t)&&this.errors.hasOwnProperty(r)&&delete this.errors[r],s(r,this.rules,this.errors,this)},n),o=s.debounce(function(e,t){let r="file"===e.type?null:e.value;0==this.required(r,null,t)&&(this.putError(t,"required"),i(t,this.rules,this.errors,this))},n);for(let h in s.rules)if(s.rules.hasOwnProperty(h)){let u=document.querySelector(`[name="${h}"]`),d=s.resolveRule(s.rules[h]),c=d.includes("required");if(s.runConrules(h,d,a,i)>-1)continue;c&&["blur","focus"].forEach(e=>{u.addEventListener(e,()=>{o(u,h)})}),u.addEventListener("input",()=>l(u,d,h,i))}}getConrule(e){let t=["any_of","only_any_of"];for(let r=0;r<e.length;r++)if("object"==typeof e[r]){for(let s of t)if(e[r].hasOwnProperty(s))return[r,s]}return[-1]}debounce(e,t){let r=Date.now(),s,i=this,a,n;return async function(...l){n=(s=Date.now())-r,clearTimeout(a),a=setTimeout(async()=>{await e.apply(i,l),r=Date.now()},t-n)}}async #a(t,r,s,i,a,n,l){let o=[],h;for(let u in r)if(r.hasOwnProperty(u)&&2===(h=await this.verify(this.getDataByKey(u,!0),u,r[u],a))){if("only_any_of"==i)o.push(u);else{o=h,this.deleteErrors(r,s,i);break}}if("only_any_of"===i){let d=this.only_any_of_errs(s,o,r,l,t);1==d?this.deleteErrors(r,s,i):3==d&&delete this.errors[o[0]]}else this.conerrors[s][i].size>0&&(this.errors[t]=this.getUserError(t,i)||this.conerrors[s][i].get(t));n(null,r)}runConrules(e,t,r,s){let[i,a]=this.getConrule(t);if(i>-1){let n="only_any_of"==a?t[i][a].fields:t[i][a],l=this.regConErrors(e,a),o={},h=this.debounce(this.#a,r),u=t[i][a]?.makeInvalidEmpty;for(let d in n)if(n.hasOwnProperty(d)){o[d]=this.resolveRule(n[d]);document.querySelector(`[name="${d}"]`).addEventListener("input",()=>h(d,o,e,a,l,s,u))}return i}}deleteErrors(e,t,r){for(let s in this.conerrors[t][r].clear(),e)e.hasOwnProperty(s)&&delete this.errors[s]}static getfileSize(e){if(e<1024)return e+" bytes";if(e<1048576){let t=e/1024;return t%1==0?t+" kb":t.toFixed(2)+" kb"}if(e<1073741824){let r=e/1048576;return r%1==0?r+" mb":r.toFixed(2)+" mb"}if(e<1099511627776){let s=e/1073741824;return s%1==0?s+" gb":s.toFixed(2)+" gb"}{let i=e/1099511627776;return i%1==0?i+" TB":i.toFixed(2)+" TB"}}addFunc(t,r,s){if("function"==typeof t){if("string"!=typeof r||"string"!=typeof s)throw TypeError("You must provide ruleName and errorMessage for your function",t);if("function"==typeof e.prototype[r]||"string"==typeof e.errorMessages[r])throw TypeError("A rule or error message with this name already exists kindly rename your rule.");e.prototype[r]=t,e.errorMessages[r]=s}else throw Error(`${r} does not refer to a function`)}static extend(t,r=null,s=null){if("function"==typeof t)e.prototype.addFunc(t,r,s);else for(let i in t)t.hasOwnProperty(i)&&e.prototype.addFunc(t[i].callback,i,t[i].msg)}getUserError(e,t){return this.customMessages?.[e]?.[t]||this.customMessages?.[`${e}_${t}`]}getError(t,r){return this.getUserError(t,r)||e.errorMessages?.[r]||e.defaultMsg}getDimensionError(t,r,s={}){let i="dimension";return this.customMessages?.[t]?.[i]?.[r]||this.customMessages?.[`${t}_${i}_${r}`]||e.strReplace(e.errorMessages[`${i}_${r}`],s)}resolveDimensionErrors(e,t,r,s,i,a){this.addErrorConditionally(e,this.getDimensionError(e,t,{givenWidth:s,givenHeight:i,expectedWidth:r[0],expectedHeight:r[1]}),a)}rE(t,r,s){let i=this.getError(t,r);if(s){let a=s;switch(r){case"tillDate":"number"==typeof s&&(s=-s),a=this.formatDateTimeWithAMPM(e.getDate(s));break;case"shouldOld":s instanceof Date&&(a=s.getUTCFullYear());break;case"image":case"fileType":case"inList":case"fileExt":a=s.join(", ")}i=i.replace(`{${r}}`,a)}return i}addError(t,r){return this.errors[t]=r||e.defaultMsg,2}putError(t,r,s=null,i=!0,a=!0){let n;return n=s?e.strReplace(this.getError(t,r),s,a):this.getError(t,r),this.addErrorConditionally(t,n,i)}addErrorConditionally(e,t,r){return!0===r?this.errors[e]=t:(window.conerrors=this.conerrors,this.conerrors[r.inp][r.ruleName].set(e,t)),2}getErrors(){return this.errors}static strReplace(e,t,r=!0){for(let s in t)t.hasOwnProperty(s)&&(e=r?e.replace(`{${s}}`,t[s]):e.replace(s,t[s]));return e}addOrRemoveClass(e,t,r=!1){let s=document.querySelector(`[name="${e}"]`);if(s){s.classList.remove("is-invalid");let i=s.nextElementSibling;if(i?.classList?.contains("invalid-feedback")&&i.remove(),r){s.classList.add("is-invalid");let a=document.createElement("div");a.className="invalid-feedback",a.innerHTML=`<span class="text-danger">${t}</span>`,s.parentNode.insertBefore(a,s.nextSibling)}}}baseShowErrors(e){this.errors.hasOwnProperty(e)?this.addOrRemoveClass(e,this.errors[e],!0):this.addOrRemoveClass(e)}showErrors(e=null,t){if(e)this.baseShowErrors(e);else for(let r in t)this.baseShowErrors(r)}showConErr(e){for(let t in e)e.hasOwnProperty(t)&&this.baseShowErrors(t)}static async verifyData(t,r=null){let s;t.hasOwnProperty("rules")?s=new e(t.rules,t?.errorMsgs||{},t.data):r instanceof e&&((s=r).data=t.data);let i=t?.callback||s.showErrors.bind(s);if(s.data instanceof FormData)for(let a in s.rules)await s.verify(s.data.getAll(a),a,s.resolveRule(s.rules[a]));else if("object"==typeof s.data)for(let n in s.rules)await s.verify(s.data[n],n,s.resolveRule(s.rules[n]));let l=s.isFailed();if(!l){if("function"==typeof i)i(null,s.rules,s.errors,s);else throw TypeError("The given callback needs to be a function.")}return l}isFailed(){return 0===Object.keys(this.errors).length}async verify(e,t,r,s=!0,i=!1){return(void 0===e||0===Object.keys(e).length)&&r.includes("accept")?this.accept(null,null,t,s):await this.runRules(e,t,r,s,i)}async runRules(e,t,r,s=!0,i=!1){let a;for(let n of(i&&(a=[]),r)){let[l,o]=this.resolveSubRule(n);if("function"==typeof this[l]){if(Array.isArray(e)||e instanceof FileList)for(let h of e){if(1==(a=await this.baseVerifier(l,t,o,h,s))){if(i)continue;return 1}if(i)return 2}else{if(1==(a=await this.baseVerifier(l,t,o,e,s))){if(i)continue;return 1}if(i)return 2;continue}}else throw Error("There is no rule defined with name "+l+".")}return i?1:2}async baseVerifier(e,t,r,s,i=!0){if("required"!=e&&"any_of"!=e&&"only_any_of"!=e&&"string"==typeof s&&0==s.trim().length)return 2;try{let a=await this[e](s,r,t,i);switch(a){case!1:case 0:return this.addErrorConditionally(t,this.rE(t,e,r),i),1;case 2:return 1}return 2}catch(n){console.error(n)}}resolveRule(e){if("string"==typeof e)return e.split("|");if(Array.isArray(e))return e;if("object"==typeof e)return[e];throw TypeError(`You need to pass rules as an array or a string. You can only pass a single rule inside an object. ${typeof e} is not allowed as a rule.`)}resolveSubRule(e){let t=e,r=null;if("string"==typeof e)e.includes(":")&&([t,r]=e.split(":"));else if("object"==typeof e)for(let s in e)t=s,r=e[s];else throw TypeError("Inside a rule you can't give another rule as an"+typeof e+" . You can only give a subrule as a string or object.");return[t,r]}getDataFromInp(e,t=!1){return"file"===e.type?t?e.files:e.files?.[0]:(!1,e.value)}getDataByKey(t,r=!1){let s=e.selectElem(`[name="${t}"]`,HTMLElement);return this.getDataFromInp(s,r)}getData(e,t=!1){return this.data instanceof FormData?t?this.data.getAll(e):this.data.get(e):this.data?!t&&(this.data[e]instanceof FileList||Array.isArray(this.data[e]))?this.data?.[e][0]:this.data[e]:this.getDataByKey(e,t)}checkNumber(e,t){if(isNaN(e=Number(e)))throw TypeError(`In ${t} you didn't pass a valid number to validate this rule.`);return e}checkFile(e){return e instanceof File&&"application/octet-stream"!==e.type}accept(t,r,s,i){return e.selectElem(`[name='${s}']`,HTMLInputElement).checked?1:this.addErrorConditionally(s,this.rE(s,"accept",r),i)}async any_of(e,t,r){let s=this.regConErrors(r,"any_of");for(let i in t)if(t.hasOwnProperty(i)&&await this.verify(this.getData(i,!0),i,this.resolveRule(t[i]),s)==2)return 1;return this.addError(r,this.getUserError(r,"any_of")||this.conerrors[r].any_of.get(r)),2}async only_any_of(e,t,r){let s=t?.fields||t,i=this.regConErrors(r,"only_any_of"),a=[],n;for(let l in s)s.hasOwnProperty(l)&&2==(n=await this.verify(this.getData(l,!0),l,this.resolveRule(s[l]),i))&&a.push(l);return this.only_any_of_errs(r,a,s,t?.makeInvalidEmpty)}only_any_of_errs(t,r,s,i=!1,a=!1){let n=r.length,l="only_any_of";if(i&&1===n){for(let o in s)if(s.hasOwnProperty(o)){if(o==r[0])continue;if(this.required(this.getData(o),null,o)&&(this.addError(o,this.getUserError(t,l)?.makeInvalidEmpty||e.errorMessages.makeInvalidEmpty),a))return 3}}return 1===n?1:a?this.addError(a,this.getUserError(a,l)?this.getConErr(a,l,n):this.conerrors[t][l].get(a)):this.addError(t,this.getConErr(t,l,n))}getConErr(t,r,s){return 3===s?this.getUserError(t,r)?.makeInvalidEmpty||e.errorMessages.makeInvalidEmpty:this.getUserError(t,r)?.[s>1?"matchMultiple":"matchNone"]||this.conerrors[t][r].get(t)||e.errorMessages.makeInvalidEmpty}async any_of_rules(e,t,r){let s,i=this.regConErrors(r,"any_of_rules");for(let a=0;a<t.length&&2!==(s=await this.verify(e,r,this.resolveRule(t[a]),i));a++);return 1==s&&this.addError(r,this.getUserError(r,"any_of_rules")||this.conerrors[r].any_of_rules.get(r)),s>1?1:2}alpha(e,t){return t?/^[\p{L}\s]+$/u.test(e):/^[\p{L}]+$/u.test(e)}alphaNumeric(e,t){return t?/^[\p{L}\p{N}\s]+$/u.test(e):/^[\p{L}\p{N}]+$/u.test(e)}lowerCase(e,t){return t?/^[\p{Lowercase}\s]+$/u.test(e):/^[\p{Lowercase}]+$/u.test(e)}upperCase(e,t){return t?/^[\p{Uppercase}\s]+$/u.test(e):/^[\p{Uppercase}]+$/u.test(e)}detectMultipleSpaces(e,t,r,s){let i=e.replace(/\s+/g," ")===e;return i||this.putError(r,ruleName,null,s)}email(e){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}hasLowerCase(e){return/[\p{Lowercase}]/u.test(e)}hasUpperCase(e){return/[\p{Uppercase}]/u.test(e)}hasSpecial(t){return e.REG_SPECIAL.test(t)}noSpace(e){return!/\s+/g.test(e)}noSpecial(t){return!e.REG_SPECIAL.test(t)}max(e,t){return!(e.trim().length>t)}min(e,t){return!(e.trim().length<t)}same(e,t){return e===this.getData(t)}space(e,t,r,s){let i=/\s+/g.test(e);return i&&t?this.detectMultipleSpaces(e,null,r,s):i}password(t,r,s,i){let a=!1;if(this.hasLowerCase(t)?this.hasUpperCase(t)?this.hasDigit(t)?this.hasSpecial(t)?this.min(t,r||8)||(a="min"):a="hasSpecial":a="hasDigit":a="hasUpperCase":a="hasLowerCase",a){let n=this.getUserError(s,a)||this.getUserError(s,"password")||e.strReplace(e.errorMessages[a],{"{min}":r||8,field:"password"},!1);return this.addErrorConditionally(s,n,i)}return 1}hasDigit(e){return/[0-9]/.test(e)}minnumb(e,t){return!(e>t)}maxnumb(e,t){return!(e<t)}numb(e){return/^[0-9]+$/.test(e)}numb_space(e,t,r,s){e=e.trim();let i=/^[0-9 ]+$/.test(e);return i&&t&&this.detectMultipleSpaces(e,null,r,s),i}range(e,t,r,s){return e<t[0]||e>t[1]?this.putError(r,"range",{num1:t[0],num2:t[1]},s):1}shouldOld(t,r){r=this.checkNumber(r,"shouldrule");let s=new Date(t);return s=e.getUtcDate(s),e.getUtcDate().getUTCFullYear()-s.getUTCFullYear()<r}tillDate(t,r){return"number"==typeof r&&(r=-r),r=e.getDate(r),!(e.getUtcDate(new Date(t)).getTime()>r.getTime())}dateAll(e){return this.date(e)||this.date(e,"YYYY/DD/MM")||this.date(e,"MM/DD/YYYY")||this.date(e,"DD/MM/YYYY")||this.date(e,"YYYY-MM-DD")}date(e,t){let r="YYYY-DD-MM";t&&(r=t);let s=/^\d{4}-\d{1,2}-\d{1,2}$/,i=2,a=1,n=0;if("YYYY-MM-DD"==r)i=1,a=2;else if("YYYY/DD/MM"==r)s=/^\d{4}\/\d{1,2}\/\d{1,2}$/;else if("MM/DD/YYYY"==r||"DD/MM/YYYY"==r){s=/^\d{1,2}\/\d{1,2}\/\d{4}$/;let l="DD/MM/YYYY"==r;i=l?1:0,a=l?0:1,n=2}if(!s.test(e))return!1;let o=e.includes("-")?"-":"/",h=e.split(o).map(Number),u=h[a],d=h[i],c=h[n];if(c<1e3||c>3e3||d<1||d>12||u<1)return!1;let p=[31,28,31,30,31,30,31,31,30,31,30,31];return(c%4==0&&c%100!=0||c%400==0)&&(p[1]=29),u<=p[d-1]}dateTime(e,t){let r=e.split(" "),s;if(s=t?this.date(r?.[0],t):this.dateAll(r?.[0])){let i=r?.[1]?.split(":")?.map(Number);return i?.length===3&&!(i[0]>23)&&!(i[0]<0)&&!(i[1]>59)&&!(i[1]<0)&&!(i[2]>59)&&!(i[2]<0)&&/^\d{1,2}:\d{1,2}:\d{1,2}$/.test(r?.[1])}return s}fileSize(t,r,s,i){return(r=this.checkNumber(r,"fileSize"),t instanceof File&&t.size>r)?this.putError(s,"fileSize",{fileSize:e.getfileSize(r),fileSize2:e.getfileSize(t.size)},i):1}fileType(e,t){return!this.checkFile(e)||t.includes(e.type)}fileExt(e,t){return this.checkFile(e)?t.includes(e.name.split(".").pop()):1}async notRule(e,t,r){return await this.verify(e,r,this.resolveRule(t),this.regConErrors(r,"notRule"),!0)!==1?this.addError(r,this.getUserError(r,"notRule")):1}dimension(t,r,s,i){return new Promise(a=>{if((r?.mimeTypes||e.imgMimeTypes).includes(t.type)){let n=new FileReader;n.onload=e=>{let t=new Image;t.src=e.target.result,t.onload=()=>{let e=t.width,n=t.height;if(r.hasOwnProperty("height")||r.hasOwnProperty("width"))r?.height&&r.height!==n&&(this.addErrorConditionally(s,this.getDimensionError(s,"height",{height:n}),i),a(2)),r?.width&&r.width!==e&&(this.addErrorConditionally(s,this.getDimensionError(s,"width",{width:e}),i),a(2));else if(r.hasOwnProperty("equal"))(r.equal[0]!==e||r.equal[1]!==n)&&(this.resolveDimensionErrors(s,"equal",r.equal,e,n,i),a(2));else if(r.hasOwnProperty("smallest")||r.hasOwnProperty("highest"))r?.smallest&&(e<r.smallest[0]||n<r.smallest[1])&&(this.resolveDimensionErrors(s,"smallest",r.smallest,e,n,i),a(2)),r?.highest&&(e>r.highest[0]||n>r.highest[1])&&(this.resolveDimensionErrors(s,"highest",r.highest,e,n,i),a(2));else if(r.hasOwnProperty("square"))0===r.square?e!==n&&(this.addErrorConditionally(s,this.getDimensionError(s,"square",{}),i),a(2)):e===r.square&&n===r.square||(this.resolveDimensionErrors(s,"square_size",[r.square,r.square],e,n,i),a(2));else if(r.hasOwnProperty("ratio")){let l=r.ratio;if("string"==typeof l){let[o,h]=l.split(":").map(Number);if(isNaN(l=o/h))throw TypeError(`The given aspectRatio ${r.ratio} is invalid the format should be like this 16:9, 4.8089:1.7823 etc.`)}Math.abs(e/n-l)<(r?.difference??.1)||(this.addErrorConditionally(s,this.getDimensionError(s,"aspectRatio",{aspectRatio:r.ratio}),i),a(2))}a(1)}},n.readAsDataURL(t)}else a(this.image(t,r?.mimeTypes,s,i))})}image(t,r,s,i){if(this.checkFile(t)){let a=e.imgMimeTypes;if(r&&(a=r),!a.includes(t.type))return this.addErrorConditionally(s,this.rE(s,"image",a),i)}return 1}required(t,r,s){return"string"!=typeof t?e.selectElem(`[name="${s}"`,HTMLElement)?.files?.length>0?1:0:t.trim().length>0?1:0}inList(e,t){return t.includes(e)}url(e,t,r,s){return t?/^(https?|ftp):\/\/[^\s/$.?#].[^\s]*$/i.test(e)?1:this.putError(r,"url_ftp",null,s):/^https?:\/\/[^\s/$.?#].[^\s]*$/i.test(e)}zipCode(e){return/^\d{5}(?:-\d{4})?$/.test(e)}json(e,t=null){try{let r=JSON.parse(e);if(t)return"object"==typeof r&&null!==r;return 1}catch(s){return 0}}ipv4(e){return/^(\d{1,3}\.){3}\d{1,3}$/.test(e)}ipv6(e){return/^([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}$|^::$|^::1$/.test(e)}isbn(e){return/^(?:\d{9}[\dXx]|\d{12})$/.test(e)||/^(?:\d{13})$/.test(e)}calculateChecksum(e){let t=e.split("").map(Number),r=t.pop(),s=t.filter((e,t)=>t%2==0).reduce((e,t)=>e+t,0),i=t.filter((e,t)=>t%2==1).reduce((e,t)=>e+t,0);return{checkDigit:r,oddSum:s,evenSum:i}}upca(e){if(12===(e=e.replace(/\D/g,"")).length){let{checkDigit:t,oddSum:r,evenSum:s}=this.calculateChecksum(e);return(3*r+s+t)%10==0}return!1}ean13(e){if(13===(e=e.replace(/\D/g,"")).length){let{checkDigit:t,oddSum:r,evenSum:s}=this.calculateChecksum(e);return(10-(3*s+r)%10)%10===t}return!1}regex(e,t){return t.test(e)}notRegex(e,t){return!t.test(e)}};