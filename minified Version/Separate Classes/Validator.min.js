/**
 * @name Validator
 * @author Muhthishim Malik
 * https://github.com/Muhthishimiscoding/FormValidatorPlus
 */
var Validator=function(){"use strict";return class e{static selectElem(e,t=HTMLFormElement){let r=null;if(e instanceof t?r=e:"string"==typeof e&&(r=document.querySelector(e)),!(r instanceof t))throw new TypeError(`No element in dom exists with this ${e} selector.`);return r}static errorMessages={alpha:"This field needs to contain only alphabatic characters i.e A to z.",alpha_s:"This field can only have only alphabatic characters i.e A to z and space",alphaNumeric:"This field can only contain alphanumeric characters.",alphaNumeric_s:"Thie fields can only contain alphanumeric characters and space.",date:"Please enter a valid date in the format YYYY-MM-DD.",dateAll:"Please enter a valid date",dateTime:"Please enter a valid date and time in the format YYYY-MM-DD HH:MM:SS.",required:"This field is required.",email:"Please provide a valid email address.",min:"The field should contain a minimum of {min} characters.",max:"The field should contain a maximum of {max} characters.",noSpecial:"This field should not contain any special characters like $, #, &, @, or >.",space:"This field must contain at least one space.",noSpace:"This field should not contain any spaces.",lowerCase:"This field should contain lowercase letters.",upperCase:"This field should contain uppercase letters.",numb:"This field should contain only digits.",maxnumb:"This field should not exceed {max} digits.",minnumb:"This field should contain at least {min} digits.",makeInvalidEmpty:"Please make this field empty.",tillDate:"The date of this field should be selected before {tillDate}.",shouldOld:"Age Requirement: You must be at least {shouldOld} years old to access this feature/content.",fileSize:"The maximum allowed file size is {fileSize} and your file size is {fileSize2}.",fileType:"The allowed file types are {fileType}",image:"The uploaded file is not a valid image. Allowed image types are {image}.",fileExt:"The file is not of valid type allowed file types are {fileExt}.",dimension_equal:"The uploaded image has a width of {givenWidth}px and height of {givenHeight}px, while the required dimensions are {expectedWidth}x{expectedHeight} pixels.",dimension_smallest:"The smallest accepted width and height are {expectedWidth}x{expectedHeight} pixels, but your image is smaller than that, {givenWidth}x{givenHeight}.",dimension_highest:"The largest accepted width and height are {expectedWidth}x{expectedHeight} pixels, but your image is larger than that, {givenWidth}x{givenHeight}.",dimension_width:"The expected width for this image is {width}px.",dimension_height:"The expected height for this image is {height}px.",dimension_square:"This image needs to be a square, meaning it should have the same height and width, like 500x500 pixels.",dimension_square_size:"This image needs to be square with a width and height of {expectedWidth}x{expectedHeight} pixels.",dimension_aspectRatio:"The image must have an aspect ratio of {aspectRatio}.",detectMultipleSpaces:"This field has multiple consecutive spaces.",accept:"Please check this checkbox.",range:"The entered number must be between {num1} to {num2}.",numb:"This field needs to be a valid number without any space",numb_space:"This field needs to be a valid number.",numb_space_double:"This field contains more spaces then it should.",password:"This field needs to contain small case, uppercase, special characters i.e $,#,% etc and digits characters and has a length of atleast {password} characters.",hasLowerCase:"The field needs to have a lower case character.",hasUpperCase:"The field needs to have a upper case character.",hasSpecial:"The field needs to have a special character like $, #, @, & etc.",hasDigit:"The field needs to have a numeric digit [0-9].",same:"This field must match with the {same}.",inList:"The field must be of any of these {inList}.",url:"Please enter a valid HTTP or HTTPS URL.",url_ftp:"Please enter a valid HTTP or HTTPS or FTP URL.",zipCode:"Please enter a valid ZIP/Postal code.",json:"The provided JSON structure is not valid.",ipv4:"Please enter a valid IPv4 address.",ipv6:"Please enter a valid IPv6 address.",isbn:"Please enter a valid ISBN (ISBN-10 or ISBN-13).",upca:"Please enter a valid UPC-A (Universal Product Code).",ean13:"Please enter a valid EAN-13 (European Article Number)."};static REG_SPECIAL=/[^\p{L}0-9\s.]/u;static defaultMsg="An unknown error occured";static imgMimeTypes=["image/jpeg","image/jpg","image/png","image/gif","image/bmp","image/webp"];static classes=["is-invalid","invalid-feedback"];static changeCssClasses(t){if(2!=t.length)throw Error(`You should give 2 classes to replace default classes which are ${e.classes.join(", ")}.`);e.classes=t}constructor(e,t={},r=null){this.customMessages=t,this.rules=e,this.data=r,this.errors={},this.conerrors={}}regConErrors(e,t){return null==this.conerrors?.[e]?.[t]&&(null==this.conerrors?.[e]&&(this.conerrors[e]={}),this.conerrors[e][t]=new Map),{inp:e,ruleName:t}}static setRegexSpecial(t){e.REG_SPECIAL=t}setRules(e){return this.rules=e,this}setErrorMessages(e){return this.customMessages?this.customMessages={...this.customMessages,...e}:this.customMessages=e,this}static setImgMimeTypes(t){e.imgMimeTypes=t}static get RULE_REQUIRED(){return"required"}static getUtcDate(e=null){e||(e=new Date);const t=Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds());return new Date(t)}static getDate(t){let r;return"number"==typeof t?(r=e.getUtcDate(),r.setUTCFullYear(r.getUTCFullYear()-t),r.setUTCHours(0,0,0,0)):"string"==typeof t?(r=new Date(t),r=e.getUtcDate(r)):r=t instanceof Date?t:e.getUtcDate(),r}static setMaxdate(t,r=null){let s=e.selectElem(t,HTMLInputElement),i=e.getDate(r);s.max=i.toISOString().split("T")[0]}static setNum(t,r=!1){let s=e.selectElem(t,HTMLElement);s.addEventListener("input",(function(){let e=s.value;s.value=e.replace(/\D/g,""),r&&e>r&&(s.value=e.slice(0,e.length-1))}))}static setPhone(t,r=!1,s=10,i=[2,5]){let a=e.selectElem(t,HTMLElement);a.addEventListener("input",(function(e){let t="",n="",l=!1;r?(s=10===s?13:s,t=a.value.replaceAll(/[^0-9+]/g,""),t.includes("+")||(n="+",l=!0)):t=a.value.replace(/\D/g,"");for(let e=0;e<Math.min(t.length,s);e++)r&&n.includes("+")&&"+"==t[e]||(n+=t[e],i.includes(e)&&(n+=" "));l||"+"!==n||(n=""),a.value=n.trimEnd()}))}formatDateTimeWithAMPM(e){let t=e.getUTCHours(),r=e.getUTCMinutes(),s=t>=12?"pm":"am";t%=12,t=t||12,r=r<10?"0"+r:r;return`${e.getUTCDate()} ${["January","February","March","April","May","June","July","August","September","October","November","December"][e.getUTCMonth()]},${e.getUTCFullYear()} till ${t}:${r} ${s}`}static liveVerify(t){let r=new e(t?.rules||t,t?.errorMsgs||{}),s=t?.callback||r.showErrors.bind(r),i=t?.conThrottle||500,a=t?.throttle||300;if("function"!=typeof s)throw new TypeError("callback paratemer needs to be a function");let n=r.debounce((async function(e,t,r,s){2===await this.runRules(this.getDataFromInp(e),r,t)&&this.errors.hasOwnProperty(r)&&delete this.errors[r],s(r,this.rules,this.errors,this)}),a),l=r.debounce((function(e,t){let r="file"===e.type?null:e.value;0==this.required(r,null,t)&&(this.putError(t,"required"),s(t,this.rules,this.errors,this))}),a);for(const e in r.rules)if(r.rules.hasOwnProperty(e)){let t=document.querySelector(`[name="${e}"]`),a=r.resolveRule(r.rules[e]),o=a.includes("required");if(r.runConrules(e,a,i,s)>-1)continue;o&&["blur","focus"].forEach((r=>{t.addEventListener(r,(()=>{l(t,e)}))})),t.addEventListener("input",(()=>n(t,a,e,s)))}}getConrule(e){let t=["any_of","only_any_of"];for(let r=0;r<e.length;r++)if("object"==typeof e[r])for(const s of t)if(e[r].hasOwnProperty(s))return[r,s];return[-1]}debounce(e,t){let r,s,i,a=Date.now(),n=this;return async function(...l){r=Date.now(),i=r-a,clearTimeout(s),s=setTimeout((async()=>{await e.apply(n,l),a=Date.now()}),t-i)}}async#e(e,t,r,s,i,a,n){let l,o=[];for(const e in t)if(t.hasOwnProperty(e)&&(l=await this.verify(this.getDataByKey(e,!0),e,t[e],i),2===l)){if("only_any_of"!=s){o=l,this.deleteErrors(t,r,s);break}o.push(e)}if("only_any_of"===s){let i=this.only_any_of_errs(r,o,t,n,e);1==i?this.deleteErrors(t,r,s):3==i&&delete this.errors[o[0]]}else this.conerrors[r][s].size>0&&(this.errors[e]=this.getUserError(e,s)||this.conerrors[r][s].get(e));a(null,t)}runConrules(e,t,r,s){let[i,a]=this.getConrule(t);if(i>-1){let n="only_any_of"==a?t[i][a].fields:t[i][a],l=this.regConErrors(e,a),o={},h=this.debounce(this.#e,r),u=t[i][a]?.makeInvalidEmpty;for(const t in n)if(n.hasOwnProperty(t)){o[t]=this.resolveRule(n[t]),document.querySelector(`[name="${t}"]`).addEventListener("input",(()=>h(t,o,e,a,l,s,u)))}return i}}deleteErrors(e,t,r){this.conerrors[t][r].clear();for(const t in e)e.hasOwnProperty(t)&&delete this.errors[t]}static getfileSize(e){if(e<1024)return e+" bytes";if(e<1048576){const t=e/1024;return t%1==0?t+" kb":t.toFixed(2)+" kb"}if(e<1073741824){const t=e/1048576;return t%1==0?t+" mb":t.toFixed(2)+" mb"}if(e<1099511627776){const t=e/1073741824;return t%1==0?t+" gb":t.toFixed(2)+" gb"}{const t=e/1099511627776;return t%1==0?t+" TB":t.toFixed(2)+" TB"}}addFunc(t,r,s){if("function"!=typeof t)throw new Error(`${r} does not refer to a function`);if("string"!=typeof r||"string"!=typeof s)throw new TypeError("You must provide ruleName and errorMessage for your function",t);if("function"==typeof e.prototype[r]||"string"==typeof e.errorMessages[r])throw new TypeError("A rule or error message with this name already exists kindly rename your rule.");e.prototype[r]=t,e.errorMessages[r]=s}static extend(t,r=null,s=null){if("function"==typeof t)e.prototype.addFunc(t,r,s);else for(const r in t)t.hasOwnProperty(r)&&e.prototype.addFunc(t[r].callback,r,t[r].msg)}getUserError(e,t){return this.customMessages?.[e]?.[t]||this.customMessages?.[`${e}_${t}`]}getError(t,r){return this.getUserError(t,r)||e.errorMessages?.[r]||e.defaultMsg}getDimensionError(t,r,s={}){let i="dimension";return this.customMessages?.[t]?.[i]?.[r]||this.customMessages?.[`${t}_${i}_${r}`]||e.strReplace(e.errorMessages[`${i}_${r}`],s)}resolveDimensionErrors(e,t,r,s,i,a){this.addErrorConditionally(e,this.getDimensionError(e,t,{givenWidth:s,givenHeight:i,expectedWidth:r[0],expectedHeight:r[1]}),a)}rE(t,r,s){let i=this.getError(t,r);if(s){let t=s;switch(r){case"tillDate":"number"==typeof s&&(s=-s),t=this.formatDateTimeWithAMPM(e.getDate(s));break;case"shouldOld":s instanceof Date&&(t=s.getUTCFullYear());break;case"image":case"fileType":case"inList":case"fileExt":t=s.join(", ")}i=i.replace(`{${r}}`,t)}return i}addError(t,r){return this.errors[t]=r||e.defaultMsg,2}putError(t,r,s=null,i=!0,a=!0){let n;return n=s?e.strReplace(this.getError(t,r),s,a):this.getError(t,r),this.addErrorConditionally(t,n,i)}addErrorConditionally(e,t,r){return!0===r?this.errors[e]=t:(window.conerrors=this.conerrors,this.conerrors[r.inp][r.ruleName].set(e,t)),2}getErrors(){return this.errors}static strReplace(e,t,r=!0){for(const s in t)t.hasOwnProperty(s)&&(e=r?e.replace(`{${s}}`,t[s]):e.replace(s,t[s]));return e}addOrRemoveClass(t,r,s=!1){let i=document.querySelector(`[name="${t}"]`);if(i){i.classList.remove(e.classes[0]);let t=i.nextElementSibling;if(t?.classList?.contains(e.classes[1])&&t.remove(),s){i.classList.add(e.classes[0]);let t=document.createElement("div");t.className=e.classes[1],t.textContent=r,i.parentNode.insertBefore(t,i.nextSibling)}}}baseShowErrors(e){this.errors.hasOwnProperty(e)?this.addOrRemoveClass(e,this.errors[e],!0):this.addOrRemoveClass(e)}showErrors(e=null,t){if(e)this.baseShowErrors(e);else for(const e in t)this.baseShowErrors(e)}showConErr(e){for(const t in e)e.hasOwnProperty(t)&&this.baseShowErrors(t)}static async verifyData(t,r=null){let s;t.hasOwnProperty("rules")?s=new e(t.rules,t?.errorMsgs||{},t.data):r instanceof e&&(s=r,s.data=t.data);let i=t?.callback||s.showErrors.bind(s);if(s.data instanceof FormData)for(const e in s.rules)await s.verify(s.data.getAll(e),e,s.resolveRule(s.rules[e]));else if("object"==typeof s.data)for(const e in s.rules)await s.verify(s.data[e],e,s.resolveRule(s.rules[e]));let a=s.isFailed();if(!a){if("function"!=typeof i)throw new TypeError("The given callback needs to be a function.");i(null,s.rules,s.errors,s)}return a}isFailed(){return 0===Object.keys(this.errors).length}async verify(e,t,r,s=!0,i=!1){return void 0!==e&&0!==Object.keys(e).length||!r.includes("accept")?await this.runRules(e,t,r,s,i):this.accept(null,null,t,s)}async runRules(e,t,r,s=!0,i=!1){let a;i&&(a=[]);for(const n of r){let[r,l]=this.resolveSubRule(n);if("function"!=typeof this[r])throw new Error("There is no rule defined with name "+r+".");if(Array.isArray(e)||e instanceof FileList)for(let n of e){if(a=await this.baseVerifier(r,t,l,n,s),1==a){if(i)continue;return 1}if(i)return 2}else{if(a=await this.baseVerifier(r,t,l,e,s),1==a){if(i)continue;return 1}if(i)return 2}}return i?1:2}async baseVerifier(e,t,r,s,i=!0){if("required"!=e&&"any_of"!=e&&"only_any_of"!=e&&"string"==typeof s&&0==s.trim().length)return 2;try{switch(await this[e](s,r,t,i)){case!1:case 0:return this.addErrorConditionally(t,this.rE(t,e,r),i),1;case 2:return 1}return 2}catch(e){console.error(e)}}resolveRule(e){if("string"==typeof e)return e.split("|");if(Array.isArray(e))return e;if("object"==typeof e)return[e];throw new TypeError(`You need to pass rules as an array or a string. You can only pass a single rule inside an object. ${typeof e} is not allowed as a rule.`)}resolveSubRule(e){let t=e,r=null;if("string"==typeof e)e.includes(":")&&([t,r]=e.split(":"));else{if("object"!=typeof e)throw new TypeError("Inside a rule you can't give another rule as an"+typeof e+" . You can only give a subrule as a string or object.");for(let s in e)t=s,r=e[s]}return[t,r]}getDataFromInp(e,t=!1){return"file"===e.type?t?e.files:e.files?.[0]:e.value}getDataByKey(t,r=!1){let s=e.selectElem(`[name="${t}"]`,HTMLElement);return this.getDataFromInp(s,r)}getData(e,t=!1){return this.data instanceof FormData?t?this.data.getAll(e):this.data.get(e):this.data?!t&&(this.data[e]instanceof FileList||Array.isArray(this.data[e]))?this.data?.[e][0]:this.data[e]:this.getDataByKey(e,t)}checkNumber(e,t){if(e=Number(e),isNaN(e))throw new TypeError(`In ${t} you didn't pass a valid number to validate this rule.`);return e}checkFile(e){return e instanceof File&&"application/octet-stream"!==e.type}accept(t,r,s,i){return e.selectElem(`[name='${s}']`,HTMLInputElement).checked?1:this.addErrorConditionally(s,this.rE(s,"accept",r),i)}async any_of(e,t,r){let s=this.regConErrors(r,"any_of");for(const e in t)if(t.hasOwnProperty(e)&&2==await this.verify(this.getData(e,!0),e,this.resolveRule(t[e]),s))return 1;return this.addError(r,this.getUserError(r,"any_of")||this.conerrors[r].any_of.get(r)),2}async only_any_of(e,t,r){let s,i=t?.fields||t,a=this.regConErrors(r,"only_any_of"),n=[];for(const e in i)i.hasOwnProperty(e)&&(s=await this.verify(this.getData(e,!0),e,this.resolveRule(i[e]),a),2==s&&n.push(e));return this.only_any_of_errs(r,n,i,t?.makeInvalidEmpty)}only_any_of_errs(t,r,s,i=!1,a=!1){let n=r.length,l="only_any_of";if(i&&1===n)for(const i in s)if(s.hasOwnProperty(i)){if(i==r[0])continue;if(this.required(this.getData(i),null,i)&&(this.addError(i,this.getUserError(t,l)?.makeInvalidEmpty||e.errorMessages.makeInvalidEmpty),a))return 3}return 1===n?1:a?this.addError(a,this.getUserError(a,l)?this.getConErr(a,l,n):this.conerrors[t][l].get(a)):this.addError(t,this.getConErr(t,l,n))}getConErr(t,r,s){return 3===s?this.getUserError(t,r)?.makeInvalidEmpty||e.errorMessages.makeInvalidEmpty:this.getUserError(t,r)?.[s>1?"matchMultiple":"matchNone"]||this.conerrors[t][r].get(t)||e.errorMessages.makeInvalidEmpty}async any_of_rules(e,t,r){let s,i=this.regConErrors(r,"any_of_rules");for(let a=0;a<t.length&&(s=await this.verify(e,r,this.resolveRule(t[a]),i),2!==s);a++);return 1==s&&this.addError(r,this.getUserError(r,"any_of_rules")||this.conerrors[r].any_of_rules.get(r)),s>1?1:2}alpha(e,t){return t?/^[\p{L}\s]+$/u.test(e):/^[\p{L}]+$/u.test(e)}alphaNumeric(e,t){return t?/^[\p{L}\p{N}\s]+$/u.test(e):/^[\p{L}\p{N}]+$/u.test(e)}lowerCase(e,t){return t?/^[\p{Lowercase}\s]+$/u.test(e):/^[\p{Lowercase}]+$/u.test(e)}upperCase(e,t){return t?/^[\p{Uppercase}\s]+$/u.test(e):/^[\p{Uppercase}]+$/u.test(e)}detectMultipleSpaces(e,t,r,s){let i=e.replace(/\s+/g," ")===e;return i||this.putError(r,ruleName,null,s)}email(e){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}hasLowerCase(e){return/[\p{Lowercase}]/u.test(e)}hasUpperCase(e){return/[\p{Uppercase}]/u.test(e)}hasSpecial(t){return e.REG_SPECIAL.test(t)}noSpace(e){return!/\s+/g.test(e)}noSpecial(t){return!e.REG_SPECIAL.test(t)}max(e,t){return!(e.trim().length>t)}min(e,t){return!(e.trim().length<t)}same(e,t){return e===this.getData(t)}space(e,t,r,s){let i=/\s+/g.test(e);return i&&t?this.detectMultipleSpaces(e,null,r,s):i}password(t,r,s,i){let a=!1;if(this.hasLowerCase(t)?this.hasUpperCase(t)?this.hasDigit(t)?this.hasSpecial(t)?this.min(t,r||8)||(a="min"):a="hasSpecial":a="hasDigit":a="hasUpperCase":a="hasLowerCase",a){let t=this.getUserError(s,a)||this.getUserError(s,"password")||e.strReplace(e.errorMessages[a],{"{min}":r||8,field:"password"},!1);return this.addErrorConditionally(s,t,i)}return 1}hasDigit(e){return/[0-9]/.test(e)}minnumb(e,t){return!(e>t)}maxnumb(e,t){return!(e<t)}numb(e){return/^[0-9]+$/.test(e)}numb_space(e,t,r,s){e=e.trim();let i=/^[0-9 ]+$/.test(e);return i&&t&&this.detectMultipleSpaces(e,null,r,s),i}range(e,t,r,s){return e<t[0]||e>t[1]?this.putError(r,"range",{num1:t[0],num2:t[1]},s):1}shouldOld(t,r){r=this.checkNumber(r,"shouldrule");let s=new Date(t);return s=e.getUtcDate(s),e.getUtcDate().getUTCFullYear()-s.getUTCFullYear()<r}tillDate(t,r){return"number"==typeof r&&(r=-r),r=e.getDate(r),!(e.getUtcDate(new Date(t)).getTime()>r.getTime())}dateAll(e){return this.date(e)||this.date(e,"YYYY/DD/MM")||this.date(e,"MM/DD/YYYY")||this.date(e,"DD/MM/YYYY")||this.date(e,"YYYY-MM-DD")}date(e,t){let r="YYYY-DD-MM";t&&(r=t);let s=/^\d{4}-\d{1,2}-\d{1,2}$/,i=2,a=1,n=0;if("YYYY-MM-DD"==r)i=1,a=2;else if("YYYY/DD/MM"==r)s=/^\d{4}\/\d{1,2}\/\d{1,2}$/;else if("MM/DD/YYYY"==r||"DD/MM/YYYY"==r){s=/^\d{1,2}\/\d{1,2}\/\d{4}$/;let e="DD/MM/YYYY"==r;i=e?1:0,a=e?0:1,n=2}if(!s.test(e))return!1;let l=e.includes("-")?"-":"/",o=e.split(l).map(Number),h=o[a],u=o[i],c=o[n];if(c<1e3||c>3e3||u<1||u>12||h<1)return!1;const d=[31,28,31,30,31,30,31,31,30,31,30,31];return(c%4==0&&c%100!=0||c%400==0)&&(d[1]=29),h<=d[u-1]}dateTime(e,t){let r,s=e.split(" ");if(r=t?this.date(s?.[0],t):this.dateAll(s?.[0]),r){let e=s?.[1]?.split(":")?.map(Number);return!(3!==e?.length||e[0]>23||e[0]<0||e[1]>59||e[1]<0||e[2]>59||e[2]<0)&&/^\d{1,2}:\d{1,2}:\d{1,2}$/.test(s?.[1])}return r}fileSize(t,r,s,i){return r=this.checkNumber(r,"fileSize"),t instanceof File&&t.size>r?this.putError(s,"fileSize",{fileSize:e.getfileSize(r),fileSize2:e.getfileSize(t.size)},i):1}fileType(e,t){return!this.checkFile(e)||t.includes(e.type)}fileExt(e,t){return this.checkFile(e)?t.includes(e.name.split(".").pop()):1}async notRule(e,t,r){return 1!==await this.verify(e,r,this.resolveRule(t),this.regConErrors(r,"notRule"),!0)?this.addError(r,this.getUserError(r,"notRule")):1}dimension(t,r,s,i){return new Promise((a=>{if((r?.mimeTypes||e.imgMimeTypes).includes(t.type)){const e=new FileReader;e.onload=e=>{let t=new Image;t.src=e.target.result,t.onload=()=>{let e=t.width,n=t.height;if(r.hasOwnProperty("height")||r.hasOwnProperty("width"))r?.height&&r.height!==n&&(this.addErrorConditionally(s,this.getDimensionError(s,"height",{height:n}),i),a(2)),r?.width&&r.width!==e&&(this.addErrorConditionally(s,this.getDimensionError(s,"width",{width:e}),i),a(2));else if(r.hasOwnProperty("equal"))r.equal[0]===e&&r.equal[1]===n||(this.resolveDimensionErrors(s,"equal",r.equal,e,n,i),a(2));else if(r.hasOwnProperty("smallest")||r.hasOwnProperty("highest"))r?.smallest&&(e<r.smallest[0]||n<r.smallest[1])&&(this.resolveDimensionErrors(s,"smallest",r.smallest,e,n,i),a(2)),r?.highest&&(e>r.highest[0]||n>r.highest[1])&&(this.resolveDimensionErrors(s,"highest",r.highest,e,n,i),a(2));else if(r.hasOwnProperty("square"))0===r.square?e!==n&&(this.addErrorConditionally(s,this.getDimensionError(s,"square",{}),i),a(2)):e===r.square&&n===r.square||(this.resolveDimensionErrors(s,"square_size",[r.square,r.square],e,n,i),a(2));else if(r.hasOwnProperty("ratio")){let t=e/n,l=r.ratio;if("string"==typeof l){let[e,t]=l.split(":").map(Number);if(l=e/t,isNaN(l))throw new TypeError(`The given aspectRatio ${r.ratio} is invalid the format should be like this 16:9, 4.8089:1.7823 etc.`)}Math.abs(t-l)<(r?.difference??.1)||(this.addErrorConditionally(s,this.getDimensionError(s,"aspectRatio",{aspectRatio:r.ratio}),i),a(2))}a(1)}},e.readAsDataURL(t)}else a(this.image(t,r?.mimeTypes,s,i))}))}image(t,r,s,i){if(this.checkFile(t)){let a=e.imgMimeTypes;if(r&&(a=r),!a.includes(t.type))return this.addErrorConditionally(s,this.rE(s,"image",a),i)}return 1}required(t,r,s){if("string"!=typeof t){let t=e.selectElem(`[name="${s}"`,HTMLElement);return t?.files?.length>0?1:0}return t.trim().length>0?1:0}inList(e,t){return t.includes(e)}url(e,t,r,s){return t?/^(https?|ftp):\/\/[^\s/$.?#].[^\s]*$/i.test(e)?1:this.putError(r,"url_ftp",null,s):/^https?:\/\/[^\s/$.?#].[^\s]*$/i.test(e)}zipCode(e){return/^\d{5}(?:-\d{4})?$/.test(e)}json(e,t=null){try{let r=JSON.parse(e);return t?"object"==typeof r&&null!==r:1}catch(e){return 0}}ipv4(e){return/^(\d{1,3}\.){3}\d{1,3}$/.test(e)}ipv6(e){return/^([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}$|^::$|^::1$/.test(e)}isbn(e){return/^(?:\d{9}[\dXx]|\d{12})$/.test(e)||/^(?:\d{13})$/.test(e)}calculateChecksum(e){const t=e.split("").map(Number);return{checkDigit:t.pop(),oddSum:t.filter(((e,t)=>t%2==0)).reduce(((e,t)=>e+t),0),evenSum:t.filter(((e,t)=>t%2==1)).reduce(((e,t)=>e+t),0)}}upca(e){if(12===(e=e.replace(/\D/g,"")).length){let{checkDigit:t,oddSum:r,evenSum:s}=this.calculateChecksum(e);return(3*r+s+t)%10==0}return!1}ean13(e){if(13===(e=e.replace(/\D/g,"")).length){let{checkDigit:t,oddSum:r,evenSum:s}=this.calculateChecksum(e);return(10-(3*s+r)%10)%10===t}return!1}regex(e,t){return t.test(e)}notRegex(e,t){return!t.test(e)}}}();